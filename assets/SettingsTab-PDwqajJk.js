import{c as S,r as i,h as b,j as e,G as x,o as ce,x as oe,ad as xe,d as he,b as c,$ as y,a3 as B,g as be,F as me,a0 as ue}from"./index-Cxmp2eWs.js";import{D as q,A as pe,U as ge}from"./user-x-BEoeOAJN.js";import{S as fe}from"./save-Co4-mtpI.js";import{T as _}from"./trash-2-BqpMS_RT.js";import{P as je}from"./plus-circle-CmrGWSLr.js";import{H as Ne}from"./hard-drive-DAAT41Ye.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=S("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=S("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=S("Layout",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"9",x2:"9",y1:"21",y2:"9",key:"wpwpyp"}]]),Ge=({schoolConfig:p,onUpdate:$})=>{var G;const[h,X]=i.useState("GENERAL"),[t,d]=i.useState(p),[V,C]=i.useState(!1),[m,A]=i.useState(((G=p.admissionConfig)==null?void 0:G.customFields)||[]),[n,u]=i.useState({label:"",type:"TEXT",required:!1}),[we,ye]=i.useState([]),[Y,Se]=i.useState(p.masterSubjects||[]),[J,T]=i.useState(!1),[K,L]=i.useState(!1),[W,N]=i.useState(!1),[z,v]=i.useState(!1),[Ce,Ae]=i.useState(""),[Te,Le]=i.useState(!1),[Q,De]=i.useState(p.teacherDailyLimit||50),[k,w]=i.useState(!1),[D,Z]=i.useState({ghosts:0,oldPosts:0,staleRequests:0,oldLogs:0}),[E,R]=i.useState(null),[F,ee]=i.useState([]);i.useEffect(()=>{P()},[]),i.useEffect(()=>{h==="DATA"&&U()},[h]),i.useEffect(()=>{d(s=>({...s,admissionConfig:{...s.admissionConfig,customFields:m}}))},[m]);const P=async()=>{const s=await b.getSchoolDetailedHealthStats();Z(s)},U=async()=>{const s=await b.getAuditLogs();ee(s)},se=async()=>{const s={...t,masterSubjects:Y,teacherDailyLimit:Q};(await b.updateSchoolSettings(s)).success?($(s),alert("Settings Saved Successfully!")):alert("Failed to update settings.")},te=async s=>{const a=s.target.value.replace(/[^0-9]/g,"").slice(0,6);if(d({...t,pincode:a}),a.length===6){C(!0);try{const r=await(await fetch(`https://api.postalpincode.in/pincode/${a}`)).json();if(r&&r[0]&&r[0].Status==="Success"){const o=r[0].PostOffice[0];d(j=>({...j,pincode:a,district:o.District,state:o.State}))}}catch(l){console.error(l)}C(!1)}},I=async(s,a)=>{if(!s.target.files||s.target.files.length===0)return;const l=s.target.files[0];a==="logo"?T(!0):L(!0);const r=await b.uploadImage(l,"logos");a==="logo"?T(!1):L(!1),r.success&&r.publicUrl?a==="logo"?(d(o=>({...o,logoUrl:r.publicUrl})),N(!1)):(d(o=>({...o,coverPhoto:r.publicUrl})),v(!1)):alert("Upload failed: "+r.message)},ae=async s=>{if(!window.confirm("Are you sure? This action cannot be undone."))return;R(s);const a=await b.cleanSpecificJunk(s);R(null),a.success?P():alert("Cleanup Failed: "+a.message)},le=()=>{b.exportSchoolData()},re=async s=>{var r;const a=(r=s.target.files)==null?void 0:r[0];if(!a)return;if(!window.confirm("WARNING: This will OVERWRITE existing data. Continue?")){s.target.value="";return}w(!0);const l=new FileReader;l.onload=async o=>{var j;try{const M=JSON.parse((j=o.target)==null?void 0:j.result),O=await b.restoreSchoolData(M);w(!1),O.success?(alert("Restore Successful! Refreshing..."),window.location.reload()):alert("Restore Failed: "+O.message)}catch{w(!1),alert("Invalid Backup File")}},l.readAsText(a)},ie=()=>{var l;if(!n.label)return alert("Field label required");const s=n.label.toLowerCase().replace(/[^a-z0-9]/g,"_");if(m.some(r=>r.id===s))return alert("Field already exists");const a={id:s,label:n.label,type:n.type||"TEXT",required:n.required||!1,options:n.type==="SELECT"?(l=n.options)==null?void 0:l.split(",").map(r=>r.trim()):void 0};A([...m,a]),u({label:"",type:"TEXT",required:!1})},de=s=>{confirm("Remove this field? Existing data may be hidden from forms.")&&A(a=>a.filter(l=>l.id!==s))},ne=s=>{d(a=>{const l=a.resultDisplayType||[];return l.includes(s)?{...a,resultDisplayType:l.filter(r=>r!==s)}:{...a,resultDisplayType:[...l,s]}})},g=({id:s,label:a,icon:l})=>e.jsxs("button",{onClick:()=>X(s),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-bold transition-all ${h===s?"bg-blue-600 text-white shadow-md":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:[e.jsx(l,{className:"w-4 h-4"})," ",a]}),f=({id:s,name:a,color:l})=>{const r=(t.layoutTemplate||"MODERN")===s;return e.jsxs("button",{onClick:()=>d({...t,layoutTemplate:s}),className:`relative p-3 rounded-xl border-2 transition-all flex flex-col items-center gap-2 ${r?"border-blue-600 bg-blue-50 dark:bg-blue-900/20":"border-slate-200 dark:border-slate-700 hover:border-slate-300"}`,children:[e.jsx("div",{className:`w-full h-16 rounded-lg ${l} shadow-inner`}),e.jsx("span",{className:`text-xs font-bold ${r?"text-blue-600":"text-slate-500"}`,children:a}),r&&e.jsx("div",{className:"absolute top-2 right-2 bg-blue-600 text-white rounded-full p-0.5",children:e.jsx(B,{className:"w-3 h-3"})})]})};return e.jsxs("div",{className:"flex flex-col md:flex-row gap-6 animate-fade-in-up h-full",children:[e.jsxs("div",{className:"md:w-64 flex-shrink-0",children:[e.jsxs(x,{className:"p-2 space-y-1 bg-white dark:bg-slate-900",children:[e.jsx("p",{className:"px-4 py-2 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Configuration"}),e.jsx(g,{id:"GENERAL",label:"General & Branding",icon:ce}),e.jsx(g,{id:"ACADEMIC",label:"Academic Setup",icon:oe}),e.jsx(g,{id:"ACCESS",label:"Access & Admission",icon:xe}),e.jsx(g,{id:"DATA",label:"Data Management",icon:q})]}),e.jsx("div",{className:"mt-4",children:e.jsxs(he,{onClick:se,className:"w-full bg-green-600 hover:bg-green-700 flex items-center justify-center gap-2 py-3 shadow-lg shadow-green-500/20",children:[e.jsx(fe,{className:"w-4 h-4"})," Save All Changes"]})})]}),e.jsxs("div",{className:"flex-1 space-y-6",children:[h==="GENERAL"&&e.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[e.jsxs(x,{children:[e.jsx("h3",{className:"font-bold text-lg mb-6 text-slate-800 dark:text-white border-b border-slate-100 dark:border-slate-800 pb-2",children:"General Information"}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"School Name"}),e.jsx(c,{value:t.schoolName,onChange:s=>d({...t,schoolName:s.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Phone Number"}),e.jsx(c,{value:t.phone||"",onChange:s=>d({...t,phone:s.target.value})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Description"}),e.jsx("textarea",{className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-300 dark:border-slate-700 rounded-lg px-4 py-2.5 text-sm outline-none focus:ring-2 focus:ring-blue-500",rows:2,value:t.description||"",onChange:s=>d({...t,description:s.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Pincode"}),e.jsxs("div",{className:"relative",children:[e.jsx(c,{value:t.pincode||"",onChange:te,maxLength:6}),V&&e.jsx(y,{className:"absolute right-3 top-3 w-4 h-4 animate-spin text-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"District"}),e.jsx(c,{value:t.district||"",readOnly:!0,className:"bg-slate-100 dark:bg-slate-800 cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"State"}),e.jsx(c,{value:t.state||"",readOnly:!0,className:"bg-slate-100 dark:bg-slate-800 cursor-not-allowed"})]})]})]})]}),e.jsxs(x,{children:[e.jsx("h3",{className:"font-bold text-lg mb-6 text-slate-800 dark:text-white border-b border-slate-100 dark:border-slate-800 pb-2",children:"Public Profile & Branding"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-3 flex items-center gap-2",children:[e.jsx(ke,{className:"w-4 h-4"})," Public Page Theme"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(f,{id:"MODERN",name:"Modern (Default)",color:"bg-gradient-to-br from-blue-500 to-indigo-600"}),e.jsx(f,{id:"CLASSIC",name:"Classic Academic",color:"bg-slate-100 border-t-4 border-blue-900"}),e.jsx(f,{id:"VIBRANT",name:"Vibrant Kids",color:"bg-gradient-to-r from-pink-400 to-orange-400"}),e.jsx(f,{id:"DARK",name:"Cyber Dark",color:"bg-slate-900 border border-slate-700"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-2",children:"School Logo"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-lg flex items-center justify-center border border-slate-200 dark:border-slate-700 overflow-hidden",children:t.logoUrl?e.jsx("img",{src:t.logoUrl,className:"w-full h-full object-contain"}):e.jsx(H,{className:"w-6 h-6 text-slate-400"})}),e.jsx("div",{className:"flex-1 space-y-2",children:W?e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("label",{className:"flex-1 bg-slate-200 dark:bg-slate-800 py-1.5 rounded text-[10px] font-bold text-center cursor-pointer",children:[J?"...":"Select File",e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:s=>I(s,"logo")})]}),e.jsx("button",{onClick:()=>N(!1),className:"text-[10px] text-red-500",children:"Cancel"})]}):e.jsxs(e.Fragment,{children:[e.jsx(c,{className:"h-8 text-xs",placeholder:"Image URL",value:t.logoUrl||"",onChange:s=>d({...t,logoUrl:s.target.value})}),e.jsx("button",{onClick:()=>N(!0),className:"text-[10px] text-blue-600 font-bold hover:underline",children:"Upload File instead"})]})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-2",children:"Cover Photo"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-lg flex items-center justify-center border border-slate-200 dark:border-slate-700 overflow-hidden",children:t.coverPhoto?e.jsx("img",{src:t.coverPhoto,className:"w-full h-full object-cover"}):e.jsx(H,{className:"w-6 h-6 text-slate-400"})}),e.jsx("div",{className:"flex-1 space-y-2",children:z?e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("label",{className:"flex-1 bg-slate-200 dark:bg-slate-800 py-1.5 rounded text-[10px] font-bold text-center cursor-pointer",children:[K?"...":"Select File",e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:s=>I(s,"cover")})]}),e.jsx("button",{onClick:()=>v(!1),className:"text-[10px] text-red-500",children:"Cancel"})]}):e.jsxs(e.Fragment,{children:[e.jsx(c,{className:"h-8 text-xs",placeholder:"Image URL",value:t.coverPhoto||"",onChange:s=>d({...t,coverPhoto:s.target.value})}),e.jsx("button",{onClick:()=>v(!0),className:"text-[10px] text-blue-600 font-bold hover:underline",children:"Upload File instead"})]})})]})]})]})]})]})]}),h==="ACADEMIC"&&e.jsx("div",{className:"space-y-6 animate-fade-in-up",children:e.jsxs(x,{children:[e.jsx("h3",{className:"font-bold text-lg mb-6 text-slate-800 dark:text-white border-b border-slate-100 dark:border-slate-800 pb-2",children:"Result Configuration"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Academic Year"}),e.jsx(c,{value:t.academicYear||"",onChange:s=>d({...t,academicYear:s.target.value}),placeholder:"e.g. 2024-25"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Current Exam Name"}),e.jsx(c,{value:t.examName||"",onChange:s=>d({...t,examName:s.target.value}),placeholder:"e.g. Term 1 Examination"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-2",children:"Result Display Options (Public)"}),e.jsx("p",{className:"text-[10px] text-slate-400 mb-3",children:"Select what elements to show on the public result page. Multiple selections allowed."}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[{id:"PASS_FAIL",label:"Show Pass/Fail Badge"},{id:"GRADE_ONLY",label:"Show Grades Column"},{id:"CLASS_DISTINCTION",label:"Show Distinction"},{id:"PERCENTAGE",label:"Show Percentage"},{id:"MARKS_COLUMN",label:"Show Marks Column"}].map(s=>{var l;const a=(l=t.resultDisplayType)==null?void 0:l.includes(s.id);return e.jsxs("button",{onClick:()=>ne(s.id),className:`p-3 rounded-xl border text-xs font-bold transition-all flex items-center justify-between ${a?"bg-blue-50 dark:bg-blue-900/30 border-blue-500 text-blue-700 dark:text-blue-300":"border-slate-200 dark:border-slate-700 text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[s.label,a&&e.jsx(B,{className:"w-3 h-3"})]},s.id)})})]}),e.jsxs("div",{className:"space-y-3 bg-slate-50 dark:bg-slate-900 p-4 rounded-xl border border-slate-200 dark:border-slate-800",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Show Ranks on Public Result"}),e.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-blue-600",checked:t.showRank,onChange:s=>d({...t,showRank:s.target.checked})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Force Pass/Fail Status (Deprecated - Use Options Above)"}),e.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-blue-600",checked:t.showPassFailStatus!==!1,onChange:s=>d({...t,showPassFailStatus:s.target.checked})})]})]})]})]})}),h==="ACCESS"&&e.jsx("div",{className:"space-y-6 animate-fade-in-up",children:e.jsxs(x,{className:"border border-blue-200 dark:border-blue-900/50 bg-blue-50 dark:bg-blue-900/10",children:[e.jsxs("h3",{className:"font-bold text-sm mb-4 text-blue-700 dark:text-blue-400 uppercase flex items-center gap-2",children:[e.jsx(ve,{className:"w-4 h-4"})," Custom Fields Manager"]}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3",children:"Add new data columns to student profiles."}),e.jsxs("div",{className:"space-y-2 mb-4",children:[m.map(s=>e.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-slate-900 p-3 rounded-lg border border-blue-100 dark:border-blue-800",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm font-bold text-slate-800 dark:text-white",children:s.label}),e.jsx("span",{className:"text-[10px] bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded text-slate-500",children:s.type}),s.required&&e.jsx("span",{className:"text-[10px] text-red-500 font-bold",children:"*Required"})]}),e.jsx("button",{onClick:()=>de(s.id),className:"text-red-400 hover:text-red-600",children:e.jsx(_,{className:"w-4 h-4"})})]},s.id)),m.length===0&&e.jsx("p",{className:"text-xs text-slate-400 italic text-center py-2",children:"No custom fields added."})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 p-3 rounded-lg border border-blue-100 dark:border-blue-800 flex gap-2 items-center flex-wrap",children:[e.jsx("div",{className:"flex-1 min-w-[120px]",children:e.jsx(c,{className:"h-9 text-xs",placeholder:"Field Name",value:n.label,onChange:s=>u({...n,label:s.target.value})})}),e.jsx("div",{className:"w-28",children:e.jsxs(be,{className:"h-9 text-xs py-0",value:n.type,onChange:s=>u({...n,type:s.target.value}),children:[e.jsx("option",{value:"TEXT",children:"Text"}),e.jsx("option",{value:"NUMBER",children:"Number"}),e.jsx("option",{value:"DATE",children:"Date"}),e.jsx("option",{value:"SELECT",children:"Dropdown"})]})}),n.type==="SELECT"&&e.jsx("div",{className:"flex-1 min-w-[120px]",children:e.jsx(c,{className:"h-9 text-xs",placeholder:"Options (comma separated)",value:n.options,onChange:s=>u({...n,options:s.target.value})})}),e.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[e.jsx("input",{type:"checkbox",checked:n.required,onChange:s=>u({...n,required:s.target.checked}),className:"w-4 h-4 accent-blue-600"}),e.jsx("span",{className:"text-xs font-bold text-slate-500",children:"Req."})]}),e.jsx("button",{onClick:ie,className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700",children:e.jsx(je,{className:"w-4 h-4"})})]})]})}),h==="DATA"&&e.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[e.jsxs(x,{className:"border border-indigo-200 dark:border-indigo-900/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"font-bold text-sm text-indigo-700 dark:text-indigo-400 uppercase flex items-center gap-2",children:[e.jsx(pe,{className:"w-4 h-4"})," System Audit Trail (V7)"]}),e.jsx("button",{onClick:U,className:"text-xs text-blue-600 hover:underline",children:"Refresh"})]}),e.jsx("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 h-64 overflow-y-auto custom-scrollbar p-1",children:F.length>0?e.jsx("div",{className:"space-y-1",children:F.map(s=>e.jsxs("div",{className:"text-xs p-2 bg-white dark:bg-slate-800 rounded border border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("span",{className:`font-bold mr-2 ${s.action==="UPDATE"?"text-blue-500":"text-slate-500"}`,children:s.action}),e.jsx("span",{className:"text-slate-700 dark:text-slate-300 mr-2",children:s.entity_type}),e.jsxs("span",{className:"text-slate-400",children:[s.entity_id.split("-")[0],"..."]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-slate-500",children:new Date(s.created_at).toLocaleString()}),e.jsxs("div",{className:"text-[10px] text-slate-400",children:["By: ",s.changed_by||"System"]})]})]},s.id))}):e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[e.jsx(me,{className:"w-8 h-8 mb-2 opacity-50"}),e.jsx("p",{className:"text-xs",children:"No audit logs found."})]})})]}),e.jsxs(x,{className:"bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-800",children:[e.jsxs("h3",{className:"font-bold text-sm mb-4 text-slate-700 dark:text-white uppercase flex items-center gap-2",children:[e.jsx(Ne,{className:"w-4 h-4"})," Maintenance Console"]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-xl border border-slate-100 dark:border-slate-700 flex flex-col justify-between h-32 relative group",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"bg-orange-100 dark:bg-orange-900/30 p-1.5 rounded-lg text-orange-600 dark:text-orange-400",children:e.jsx(ge,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-xl font-black text-slate-800 dark:text-white",children:D.ghosts})]}),e.jsx("p",{className:"text-xs font-bold text-slate-600 dark:text-slate-300 leading-tight",children:"Ghost Admissions"})]}),e.jsxs("button",{onClick:()=>ae("GHOSTS"),disabled:D.ghosts===0||E==="GHOSTS",className:"w-full py-1.5 rounded text-[10px] font-bold bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400 hover:bg-red-50 hover:text-red-600 transition-colors flex items-center justify-center gap-1",children:[E==="GHOSTS"?e.jsx(y,{className:"w-3 h-3 animate-spin"}):e.jsx(_,{className:"w-3 h-3"})," Clear"]})]})})]}),e.jsxs(x,{className:"border border-green-200 dark:border-green-900/50 bg-green-50 dark:bg-green-900/10",children:[e.jsxs("h3",{className:"font-bold text-sm mb-4 text-green-700 dark:text-green-400 uppercase flex items-center gap-2",children:[e.jsx(q,{className:"w-4 h-4"})," Backup & Restore"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl border border-green-100 dark:border-green-900/30",children:[e.jsx("p",{className:"text-sm font-bold text-slate-800 dark:text-white mb-1",children:"Backup Data"}),e.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Download a full JSON copy of your campus data."}),e.jsx("button",{onClick:le,className:"w-full py-2 bg-green-600 hover:bg-green-700 text-white text-xs font-bold rounded-lg flex items-center justify-center gap-2",children:"Download Backup"})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl border border-green-100 dark:border-green-900/30",children:[e.jsx("p",{className:"text-sm font-bold text-slate-800 dark:text-white mb-1",children:"Restore Data"}),e.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Overwrite current data with a backup file."}),e.jsxs("label",{className:"w-full py-2 bg-slate-200 dark:bg-slate-800 hover:bg-slate-300 text-slate-700 dark:text-slate-300 text-xs font-bold rounded-lg flex items-center justify-center gap-2 cursor-pointer",children:[k?e.jsx(y,{className:"w-3 h-3 animate-spin"}):e.jsx(ue,{className:"w-3 h-3"})," ",k?"Restoring...":"Select File",e.jsx("input",{type:"file",className:"hidden",accept:".json",onChange:re,disabled:k})]})]})]})]})]})]})]})};export{Ge as default};
